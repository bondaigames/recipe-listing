(window["webpackJsonprecipe-listing"]=window["webpackJsonprecipe-listing"]||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),c=n(30),l=n(66),s=n(19),u=(n(76),n(77),n(129)),p=n(130),d=n(131),m=n(132),g=n(133),h=function(e){return r.a.createElement(m.a,{bg:"dark",expand:"lg"},r.a.createElement(m.a.Brand,{className:"text-white",href:"#home"},"Recipe Listing App"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"bg-light"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,null,r.a.createElement(s.b,{className:"d-inline p-2 bg-dark text-white",to:"/"},"Home"),r.a.createElement(s.b,{className:"d-inline p-2 bg-dark text-white",to:"/create-new-category"},"Create New Category"),r.a.createElement(s.b,{className:"d-inline p-2 bg-dark text-white",to:"/create-new-recipe"},"Create New Recipe"),r.a.createElement(s.b,{className:"d-inline p-2 bg-dark text-white",to:"/recipe-listing"},"Recipe Listing"))))},f=function(){return r.a.createElement("footer",{className:"app-footer"},r.a.createElement("div",null))},v=n(27),b=n(18),y=n(11),O=n(12),E=n(14),j=n(13),w=n(15),k=n(25),C=n.n(k),P=n(60),_=n.n(P),N=n(61),S=n.n(N),D=function(e){var t=null,n=[C.a.InputElement];switch(e.invalid&&e.shouldValidation&&e.touched&&n.push(C.a.Invalid),e.elementType){case"input":t=r.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:n},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"CKEditor":t=r.a.createElement(_.a,Object.assign({editor:S.a,className:n},e.elementConfig,{data:e.value,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:n,value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=r.a.createElement("input",Object.assign({className:n},e.elementConfig,{value:e.value,onChange:e.changed}))}var a=null;return e.invalid&&e.touched&&(a=r.a.createElement("p",{className:C.a.ValidationError},e.errorMessage)),r.a.createElement("div",{className:C.a.Input},r.a.createElement("label",{className:C.a.Label},e.label),t,a)},I=n(127),L=n(62),x=n.n(L).a.create({baseURL:"https://recipelisting-6b405.firebaseio.com/"}),M=n(63),V=n.n(M),F=function(){return r.a.createElement("div",{className:V.a.Loader},"Loading...")},T=n(64),H=n.n(T),q=function(e){return e.children},R=n(65),B=n.n(R),K=function(e){return e.show?r.a.createElement("div",{className:B.a.Backdrop,onClick:e.clicked}):null},A=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(O.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement(K,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:H.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(a.Component),U=function(e,t){return function(n){function a(){var e,n;Object(y.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(a)).call.apply(e,[this].concat(o)))).state={error:null},n.reqInterceptor=t.interceptors.request.use((function(e){return n.setState({error:null}),e})),n.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(e){n.setState({error:e})})),n.errorConfirmedHandler=function(){n.setState({error:null})},n}return Object(w.a)(a,n),Object(O.a)(a,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement(A,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),r.a.createElement(e,this.props))}}]),a}(a.Component)};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=U(function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))))._isMount=!1,n.state={recipeForm:{recipeName:{elementType:"input",elementConfig:{type:"text",placeholder:"Please enter recipe name"},value:"",validation:{required:!0,minLength:5,maxLength:200,errorMessage:"Recipe name should be filled between 5 to 200 characters"},valid:!1,touched:!1},category:{elementType:"select",elementConfig:{options:[{value:"-1",displayValue:"Select a category"}]},value:"",validation:{},valid:!0},ingredients:{elementType:"CKEditor",elementConfig:{type:"classic"},value:"",validation:{required:!1},valid:!0,touched:!1}},formIsValid:!1,loading:!1},n.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n},n.recipeHandler=function(e){e.preventDefault(),n.setState({loading:!0});var t={};for(var a in n.state.recipeForm)t[a]=n.state.recipeForm[a].value;t.createdDate=new Date,x.post("/recipes.json",t).then((function(e){n.setState({loading:!1}),n.props.history.push("/")})).catch((function(e){n.setState({loading:!1})}))},n.inputChangedHandler=function(e,t,a){var r=J({},n.state.recipeForm),o=J({},r[a]);"CKEditor"===o.elementType?o.value=t.getData():o.value=e.target.value,o.valid=n.checkValidity(o.value,o.validation),o.touched=!0,r[a]=o;var i=!0;for(var c in r)i=r[c].valid&&i;n.setState({recipeForm:r,formIsValid:i})},n}return Object(w.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMount=!0,x.get("/categories.json").then((function(t){var n=Object.assign({},e.state.recipeForm),a=Object.keys(t.data).map((function(e){return{displayValue:t.data[e].categoryName,value:e}})),r=[].concat(Object(v.a)(n.category.elementConfig.options),Object(v.a)(a));console.log(r),n.category.elementConfig.options=r,e._isMount&&e.setState({loading:!1,recipeForm:n})})).catch((function(t){e.setState({loading:!1})}))}},{key:"componentWillUnmount",value:function(){this._isMount=!1}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.recipeForm)t.push({id:n,config:this.state.recipeForm[n]});var a=r.a.createElement("form",{onSubmit:this.recipeHandler},t.map((function(t){return r.a.createElement(D,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidation:t.config.validation,touched:t.config.touched,errorMessage:t.config.validation.errorMessage,changed:function(n,a){return e.inputChangedHandler(n,a,t.id)}})})),r.a.createElement(I.a,{type:"submit",disabled:!this.state.formIsValid},"Submit"));return this.state.loading&&(a=r.a.createElement(F,null)),r.a.createElement("div",null,r.a.createElement("h4",null,"Create New Recipe"),a)}}]),t}(a.Component),x),$=n(20);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=U(function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={categoryForm:{categoryName:{elementType:"input",elementConfig:{type:"text",placeholder:"Please enter category name"},value:"",validation:{required:!0,minLength:5,maxLength:200,errorMessage:"Category name should be filled between 5 to 200 characters"},valid:!1,touched:!1}},formIsValid:!1,loading:!1},n.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n},n.categoryHandler=function(e){e.preventDefault(),n.setState({loading:!0});var t={};for(var a in n.state.categoryForm)t[a]=n.state.categoryForm[a].value;t.createdDate=new Date,x.post("/categories.json",t).then((function(e){n.setState({loading:!1}),n.props.history.push("/")})).catch((function(e){n.setState({loading:!1})}))},n.inputChangedHandler=function(e,t,a){var r=G({},n.state.categoryForm),o=G({},r[a]);"CKEditor"===o.elementType?o.value=t.getData():o.value=e.target.value,o.valid=n.checkValidity(o.value,o.validation),o.touched=!0,r[a]=o;var i=!0;for(var c in r)i=r[c].valid&&i;n.setState({categoryForm:r,formIsValid:i})},n}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.categoryForm)t.push({id:n,config:this.state.categoryForm[n]});var a=r.a.createElement("form",{onSubmit:this.categoryHandler},t.map((function(t){return r.a.createElement(D,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidation:t.config.validation,touched:t.config.touched,errorMessage:t.config.validation.errorMessage,changed:function(n,a){return e.inputChangedHandler(n,a,t.id)}})})),r.a.createElement(I.a,{type:"submit",disabled:!this.state.formIsValid},"Submit"));return this.state.loading&&(a=r.a.createElement(F,null)),r.a.createElement("div",null,r.a.createElement("h4",null,"Create New Category"),a)}}]),t}(a.Component),x),X=n(134),Z=n(128);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var te=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={recipes:{},total:0,per_page:5,current_page:1,loading:!1},n}return Object(w.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),x.get('/recipes.json?orderBy="createdDate"&limitToLast='+this.state.per_page).then((function(t){console.log(t.data);var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state.recipes,{},t.data);e.setState({loading:!1,recipes:n})})).catch((function(t){e.setState({loading:!1})}))}},{key:"componentDidUpdate",value:function(){console.log("test123",this.state.recipes)}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.recipes).map((function(t,n){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n+1),r.a.createElement("td",null,e.state.recipes[t].recipeName))})),n=[],a=Math.ceil(Object.keys(this.state.recipes).length/10);console.log("number page: ",a);for(var o=1;o<=a;o++)n=[].concat(Object(v.a)(n),[r.a.createElement(X.a.Item,{key:o,active:1===o},o)]);var i=r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(X.a,null,n)),c=r.a.createElement("div",null,r.a.createElement(Z.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Recipe Name"))),r.a.createElement("tbody",null,t)),i);return this.state.loading&&(c=r.a.createElement(F,null)),r.a.createElement("div",null,r.a.createElement("h4",null,"Recipe Listing"),c)}}]),t}(a.Component);var ne=function(){return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(h,null),r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:12,md:12},r.a.createElement($.c,null,r.a.createElement($.a,{path:"/create-new-recipe",component:Y}),r.a.createElement($.a,{path:"/create-new-category",component:Q}),r.a.createElement($.a,{path:"/recipe-listing",component:te})))),r.a.createElement(f,null)))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe={counter:0},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return"INCREMENT"===t.type?re({},e,{counter:e.counter+1}):e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(124);var ce=Object(c.b)(ie);i.a.render(r.a.createElement(l.a,{store:ce},r.a.createElement(s.a,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",ValidationError:"Input_ValidationError__qMR97"}},63:function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},64:function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},65:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},67:function(e,t,n){e.exports=n(125)},76:function(e,t,n){},77:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.b36f3573.chunk.js.map